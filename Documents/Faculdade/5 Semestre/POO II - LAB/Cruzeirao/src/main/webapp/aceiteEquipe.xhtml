<ui:composition template="templateMenu.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui2="http://java.sun.com/jsf/facelets"
>
	
	<ui:define name="title">
		<h:outputText value="Aceite de Equipes" />
	</ui:define>

	<ui:define name="principal">
	  
    	<h1><p:outputLabel value="Aceite de Equipes"/></h1>	  
			<h:form id="formAceiteEquipe">	
				<p:panelGrid columns="4">		       			
			      	<p:dataTable id="tabelaEquipes" var="eqp" value="#{equipeMB.listarEquipes()}">
		            	<f:facet name="header">
		            		Equipes não confirmadas
		        		</f:facet>
		        		<p:column headerText="Nome da equipe">
		            		<h:outputText value="#{eqp.nome}" />
		        		</p:column>
		        		<p:column headerText="Data de fundação">
		            		<h:outputText value="#{eqp.dataFundacao}" />
		        		</p:column>
		        		<p:column headerText="Cidade">
		            		<h:outputText value="#{eqp.cidade}" />
		        		</p:column>
		        		<p:column headerText="Diretor">
		            		<h:outputText value="#{eqp.diretor}" />
		        		</p:column>
		        		<p:column style="width:32px;text-align: center">
		             	<p:commandButton update=":formEquipeSelect" oncomplete="PF('equipeDialog').show()" icon="ui-icon-search" title="View">
		                	<f:setPropertyActionListener value="#{equipeMB.listarEquipes()}" target="#{equipeManagedBean.selectedEquipe}" />
		            	</p:commandButton>
		        		</p:column>
		    		</p:dataTable>
				</p:panelGrid>	  
	        </h:form>
	        
	         <br/>
	         
	        <h:form id="formAceiteEquipeConf">	
				<p:panelGrid columns="4">		       			
			      	<p:dataTable id="tabelaConfirmados" var="eqp" value="#{equipeMB.listarEquipesConf()}">
		            	<f:facet name="header">
		            		Equipes confirmadas
		        		</f:facet>
		        		<p:column headerText="Nome da equipe">
		            		<h:outputText value="#{eqp.nome}" />
		        		</p:column>
		        		<p:column headerText="Data de fundação">
		            		<h:outputText value="#{eqp.dataFundacao}" />
		        		</p:column>
		        		<p:column headerText="Cidade">
		            		<h:outputText value="#{eqp.cidade}" />
		        		</p:column>
		        		<p:column headerText="Diretor">
		            		<h:outputText value="#{eqp.diretor}" />
		        		</p:column>
		    		</p:dataTable>
				</p:panelGrid>	  
	        </h:form>
         
        <p:dialog header="Informações da equipe" widgetVar="equipeDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="true" styleClass="ui-widget">
       		<p:outputPanel id="equipeDetail" style="text-align:center;">
            		
				<h:form id="formEquipeSelect">	
					<p:panelGrid columns="4">		       			
				      	<p:dataTable var="usu" value="#{equipeMB.listarUsuarios()}">
			            	<f:facet name="header">
			            		Usuarios da equipe
			        		</f:facet>
			        		<p:column headerText="Nome">
			            		<h:outputText value="#{usu.nome}" />
			        		</p:column>
			        		<p:column headerText="Data de nascimento">
			            		<h:outputText value="#{usu.dataNascimento}" />
			        		</p:column>
			        		<p:column headerText="Tipo">
			            		<h:outputText value="#{usu.tipo}" />
			        		</p:column>
			        		<p:column headerText="Sexo">
			            		<h:outputText value="#{usu.sexo}" />
			        		</p:column>
			    		</p:dataTable>
			    	</p:panelGrid>	
	        	</h:form>
	        					
        </p:outputPanel>
        <p:commandButton value="Confirmar equipe" 
	                 action="#{equipeMB.conf}"
	                 update=":formAceiteEquipe"
	                 />	
    </p:dialog>
     

	</ui:define>
</ui:composition>
